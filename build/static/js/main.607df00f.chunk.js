(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,a){e.exports=a(73)},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),s=a.n(r),o=a(15),c=a(18),i=a(10),d=a(11),m=a(13),u=a(12),p=a(2),h=a.n(p),g=a(5),b=a(6),v=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleLogoutClick=function(){localStorage.clear(),window.location="/#/login"},n.handleMyPostsClick=function(){window.location="/#/myposts"},localStorage.getItem("token")||(window.location="/#/login"),n}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-bg-light navbar-bg fixed"},l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo01"},l.a.createElement("button",{className:"btn btn-link text-white"},l.a.createElement(o.b,{to:"/"},l.a.createElement("h6",null,"FEEDS"))),l.a.createElement("ul",{className:"navbar-nav mr-auto"}),l.a.createElement("ul",{className:"navbar-nav mt-2 mt-lg-0 "},l.a.createElement("li",{className:"nav-item active"},l.a.createElement("button",{className:"btn btn-link text-white",onClick:this.handleMyPostsClick},"My Posts"))),l.a.createElement("button",{className:"btn btn-link text-white",onClick:this.handleLogoutClick},"Logout")))}}]),a}(n.Component),f=a(20),E=a.n(f);var k=function(e){return l.a.createElement("div",{className:"card shadow mb-3 size"},l.a.createElement("br",null),l.a.createElement("div",{align:"center"},e.user," Posted on ",l.a.createElement(E.a,{format:"YYYY/MM/DD"},e.date)),l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title font-weight-bold"},e.title),l.a.createElement("hr",null),l.a.createElement("img",{src:"http://localhost:4000/post/download/".concat(e.image,".png"),alt:"No Image Preview",class:"centerAlign",width:"400",height:"200"}),l.a.createElement("p",{className:"card-text"},e.description),l.a.createElement("button",{className:"link-button","data-toggle":"modal","data-target":"#viewLikeModal",title:"View Likes",onClick:function(){return e.viewLikes(e.postId)}},e.likes,"\xa0likes"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement("div",{className:"style-icon"},l.a.createElement("i",{class:"fas fa-heart clickable-icon",onClick:function(){return e.handleLikePost(e.postId,localStorage.getItem("name"))},"data-toggle":"tooltip","data-placement":"bottom",title:"Likes"}))))))};var N=function(e){return l.a.createElement("span",e,l.a.createElement("button",{className:"btn btn-outline-violet pill-button text-violet shadow floatright",onClick:e.onClick},l.a.createElement("i",{className:"fa fa-plus mr-2"})," Add Post"))};var C=function(e){return l.a.createElement("div",{className:"modal fade",id:"addPostModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addPostModal","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"AddPostModalLabel"},"Add New Post"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"ml-2"},"Title"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Title of the Post",onChange:e.handleTitleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"ml-2"},"Content"),l.a.createElement("textarea",{className:"form-control",placeholder:"Enter content of the Post",onChange:e.handleDescriptionChange})),l.a.createElement("div",null,l.a.createElement("label",{className:"ml-2"},"Post"),l.a.createElement("br",null),l.a.createElement("input",{type:"file",name:"file",accept:"image/png, image/jpeg",onChange:e.handleFileChange}))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:e.onCancel},"Cancel"),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.onConfirm},"Confirm")))))},w=a(39),x=a(38),P=a.n(x);a(68).config();var y={apiURL:"http://localhost:4000/"};var L=function(e,t,a){var n=localStorage.getItem("token"),l=Object(w.a)({url:t,method:e,baseURL:y.apiURL,headers:{Authorization:"Bearer ".concat(n)}},a);return P()(l)},j=a(3),O=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getAllPosts=Object(g.a)(h.a.mark((function e(){var t,a,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("get","/post/");case 3:t=e.sent,a=Object(b.a)(n),(l=a.state).posts=t.data.message,n.setState(l),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),j.b.error("An error Occured. Try Again");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),n.handleDeletePost=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("delete","/post/".concat(t));case 3:n.getAllPosts(),j.b.success("Post Deleted"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j.b.error("Post Cannot be Deleted");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.handleUpdatePostClick=function(e){var t=Object(b.a)(n).state,a=t.posts.filter((function(t){return t._id===e}));t.selectedPost=a[0],n.setState(t)},n.handleLikePost=function(){var e=Object(g.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t||""!==a){e.next=4;break}alert("Cannot proceed without username and/or password"),e.next=15;break;case 4:return e.prev=4,e.next=7,L("put","/post/like",{data:{id:t,username:a}});case 7:e.sent,n.getAllPosts(),j.b.success("Liked"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),j.b.error("Post Cannot be Liked!");case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,a){return e.apply(this,arguments)}}(),n.viewLikes=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,l,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=4;break}alert("Cannot proceed without post Id"),e.next=16;break;case 4:return e.prev=4,e.next=7,L("get","/post/viewlikes/".concat(t));case 7:a=e.sent,l=Object(b.a)(n),(r=l.state).likedUsersList=a.data.message,n.setState(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),j.b.error("Error");case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),n._renderPostCards=function(){try{return n.state.posts.length>0?l.a.createElement("div",{className:"align"},n.state.posts.map((function(e,t){return l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xl-3",key:t},l.a.createElement(k,{user:e.owner,date:e.createdAt,title:e.posttitle,description:e.postcontent,postId:e._id,image:e.postimageid,likes:e.likes,handleLikePost:n.handleLikePost,handleDeletePost:n.handleDeletePost,handleUpdatePostClick:n.handleUpdatePostClick,viewLikes:n.viewLikes}),l.a.createElement("br",null))}))):l.a.createElement("div",{className:"text-center"},l.a.createElement("h3",{className:"text-danger"},l.a.createElement("i",{className:"fa fa-exclamation-circle mr-4"}),"No Posts"))}catch(e){return l.a.createElement("div",{className:"text-center"},l.a.createElement("h3",{className:"text-danger"},l.a.createElement("i",{className:"fa fa-exclamation-circle mr-4"}),"No Posts"))}},n.handleTitleChange=function(e){var t=Object(b.a)(n).state;t.selectedPost.posttitle=e.target.value,n.setState(t)},n.handleDescriptionChange=function(e){var t=Object(b.a)(n).state;t.selectedPost.postcontent=e.target.value,n.setState(t)},n.handleFileChange=function(e){var t=Object(b.a)(n).state;t.selectedPost.file=e.target.files[0],n.setState(t)},n.handleCancel=function(){n.getAllPosts()},n.handleUpdate=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("put","/post",{data:n.state.selectedPost});case 3:j.b.success("Post Updated"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),j.b.error("Error in Updating the post");case 9:n.getAllPosts();case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),n.onConfirm=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("file",n.state.selectedPost.file),t.append("postcontent",n.state.selectedPost.postcontent),t.append("posttitle",n.state.selectedPost.posttitle),e.next=7,L("post","/post",{data:t});case 7:j.b.success("Post Created"),n.getAllPosts(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),j.b.error("Error in Creating Post");case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),n.state={posts:[],selectedPost:{},likedUsersList:[]},localStorage.getItem("token")||(window.location="/#/login"),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getAllPosts()}},{key:"render",value:function(){var e=this.state.selectedPost;return l.a.createElement("div",null,l.a.createElement(v,null),l.a.createElement("div",{className:"m-5"},l.a.createElement(j.a,null),l.a.createElement("div",{className:"modal fade",id:"postUpdateModal",tabIndex:"-1",role:"dialog","aria-labelledby":"postUpdateModal","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"postUpdateModalLabel"},"Edit Post Details"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"ml-2"},"Title"),l.a.createElement("input",{type:"text",value:e.posttitle,onChange:this.handleTitleChange,className:"form-control",placeholder:"Enter Title of the Post"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"ml-2"},"Content"),l.a.createElement("textarea",{className:"form-control",value:e.postcontent,onChange:this.handleDescriptionChange,placeholder:"Enter Content of the Post"}))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.handleCancel},"Cancel"),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleUpdate},"Update"))))),l.a.createElement("div",{className:"modal fade",id:"viewLikeModal",tabIndex:"-1",role:"dialog","aria-labelledby":"postUpdateModal","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"postUpdateModalLabel"},"People who liked this Post"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group"},this.state.likedUsersList.map((function(e,t){return l.a.createElement("div",null,e)}))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.handleCancel},"Close")))))),this._renderPostCards()))}}]),a}(n.Component);a(27);var U=function(e){return l.a.createElement("div",{className:"card shadow mb-3 size"},l.a.createElement("br",null),l.a.createElement("div",{align:"center"},e.user," Posted on ",l.a.createElement(E.a,{format:"YYYY/MM/DD"},e.date)),l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title font-weight-bold"},e.title,l.a.createElement("i",{className:"fa text-violet fa-edit floatright clickable-icon","data-toggle":"modal","data-target":"#postUpdateModal",onClick:function(){e.handleUpdatePostClick(e.postId)}}),l.a.createElement("i",{className:"fa fa-trash clickable-icon float-right",onClick:function(){return e.handleDeletePost(e.postId)},"data-toggle":"tooltip","data-placement":"bottom",title:"Delete post"})),l.a.createElement("hr",null),l.a.createElement("img",{src:"http://localhost:4000/post/download/".concat(e.image,".png"),alt:"No Image Preview",class:"centerAlign",width:"400",height:"200"}),l.a.createElement("p",{className:"card-text"},e.description),l.a.createElement("button",{className:"link-button","data-toggle":"modal","data-target":"#viewLikeModal",onClick:function(){return e.viewLikes(e.postId)}},e.likes,"\xa0likes"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement("div",{className:"style-icon"},l.a.createElement("i",{class:"fas fa-heart clickable-icon",onClick:function(){return e.handleLikePost(e.postId,localStorage.getItem("name"))},"data-toggle":"tooltip","data-placement":"bottom",title:"Likes"}))))))},D=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getAllPosts=Object(g.a)(h.a.mark((function e(){var t,a,l,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("name"),e.next=4,L("get","/post/".concat(t));case 4:a=e.sent,l=Object(b.a)(n),(r=l.state).posts=a.data.message,r.date=a.data.message.createdAt,n.setState(r),console.log(a.data.message),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])}))),n.handleDeletePost=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("delete","/post/".concat(t));case 3:n.getAllPosts(),j.b.success("Post Deleted"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j.b.error("Post Cannot be Deleted");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.handleUpdatePostClick=function(e){var t=Object(b.a)(n).state,a=t.posts.filter((function(t){return t._id===e}));t.selectedPost=a[0],n.setState(t)},n.handleLikePost=function(){var e=Object(g.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t||""!==a){e.next=4;break}alert("Cannot proceed without username and/or password"),e.next=15;break;case 4:return e.prev=4,e.next=7,L("put","/post/like",{data:{id:t,username:a}});case 7:e.sent,n.getAllPosts(),j.b.success("Liked"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),j.b.error("Post Cannot be Liked!");case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,a){return e.apply(this,arguments)}}(),n.viewLikes=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,l,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=4;break}alert("Cannot proceed without post Id"),e.next=16;break;case 4:return e.prev=4,e.next=7,L("get","/post/viewlikes/".concat(t));case 7:a=e.sent,l=Object(b.a)(n),(r=l.state).likedUsersList=a.data.message,n.setState(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),j.b.error("Error");case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),n._renderPostCards=function(){try{return n.state.posts.length>0?l.a.createElement("div",{className:"align"},n.state.posts.map((function(e,t){return l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xl-3",key:t},l.a.createElement(U,{user:e.owner,date:e.createdAt,title:e.posttitle,description:e.postcontent,postId:e._id,image:e.postimageid,likes:e.likes,handleLikePost:n.handleLikePost,handleDeletePost:n.handleDeletePost,handleUpdatePostClick:n.handleUpdatePostClick,viewLikes:n.viewLikes}),l.a.createElement("br",null))}))):l.a.createElement("div",{className:"text-center"},l.a.createElement("h3",{className:"text-danger"},l.a.createElement("i",{className:"fa fa-exclamation-circle mr-4"}),"No Posts"))}catch(e){return l.a.createElement("div",{className:"text-center"},l.a.createElement("h3",{className:"text-danger"},l.a.createElement("i",{className:"fa fa-exclamation-circle mr-4"}),"Error in Loading Post!"))}},n.handleTitleChange=function(e){var t=Object(b.a)(n).state;t.selectedPost.posttitle=e.target.value,n.setState(t)},n.handleDescriptionChange=function(e){var t=Object(b.a)(n).state;t.selectedPost.postcontent=e.target.value,n.setState(t)},n.handleFileChange=function(e){var t=Object(b.a)(n).state;t.selectedPost.file=e.target.files[0],n.setState(t)},n.handleCancel=function(){n.getAllPosts()},n.handleUpdate=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("put","/post",{data:n.state.selectedPost});case 3:j.b.success("Post Updated"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),j.b.error("Error in Updating the post");case 9:n.getAllPosts();case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),n.onConfirm=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("file",n.state.selectedPost.file),t.append("username",localStorage.getItem("name")),t.append("postcontent",n.state.selectedPost.postcontent),t.append("posttitle",n.state.selectedPost.posttitle),e.next=8,L("post","/post",{data:t});case 8:j.b.success("Post Created"),n.getAllPosts(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),j.b.error("Error in Creating Post");case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),n.state={posts:[],selectedPost:{},likedUsersList:[],date:""},localStorage.getItem("token")||(window.location="/#/login"),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getAllPosts()}},{key:"render",value:function(){var e=this.state.selectedPost;return l.a.createElement("div",null,l.a.createElement(v,null),l.a.createElement("div",{className:"d-flex justify-content-between align-items-center float mt-2 mb-5"},l.a.createElement(N,{"data-toggle":"modal","data-target":"#addPostModal"})),l.a.createElement("div",{className:"m-5"},l.a.createElement(j.a,null),l.a.createElement(C,{onConfirm:this.onConfirm,onCancel:this.handleCancel,handleTitleChange:this.handleTitleChange,handleDescriptionChange:this.handleDescriptionChange,handleFileChange:this.handleFileChange}),l.a.createElement("div",{className:"modal fade",id:"postUpdateModal",tabIndex:"-1",role:"dialog","aria-labelledby":"postUpdateModal","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"postUpdateModalLabel"},"Edit Post Details"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"ml-2"},"Title"),l.a.createElement("input",{type:"text",value:e.posttitle,onChange:this.handleTitleChange,className:"form-control",placeholder:"Enter Title of the Post"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"ml-2"},"Content"),l.a.createElement("textarea",{className:"form-control",value:e.postcontent,onChange:this.handleDescriptionChange,placeholder:"Enter Content of the Post"}))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.handleCancel},"Cancel"),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleUpdate},"Update"))))),l.a.createElement("div",{className:"modal fade",id:"viewLikeModal",tabIndex:"-1",role:"dialog","aria-labelledby":"postUpdateModal","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"postUpdateModalLabel"},"People who liked this Post"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group"},this.state.likedUsersList.map((function(e,t){return l.a.createElement("div",null,e)}))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.handleCancel},"Close")))))),this._renderPostCards()))}}]),a}(n.Component),S=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleLoginClick=Object(g.a)(h.a.mark((function e(){var t,a,l,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.username,l=t.password,""!==a||""!==l){e.next=5;break}alert("Cannot proceed without username and/or password"),e.next=18;break;case 5:return e.prev=5,e.next=8,L("post","/user/login",{data:{name:a,password:l}});case 8:r=e.sent,console.log(r),localStorage.setItem("token",r.data.jwttoken),localStorage.setItem("name",r.data.name),window.location="/#/",e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.log("Error");case 18:case"end":return e.stop()}}),e,null,[[5,15]])}))),n.state={username:"",password:""},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"pt-5 login-bg text-white h-100"},l.a.createElement("div",{className:"text-center"},l.a.createElement("div",{className:"display-4"},"Welcome to "),l.a.createElement("div",{className:"display-1"}," PostIn"),l.a.createElement("h3",null,"An One step solution to share your thoughts"),l.a.createElement("div",{style:{fontSize:20},className:"mt-5"},l.a.createElement("div",{style:{marginLeft:600,marginRight:600}},l.a.createElement("input",{className:"form-control text-center placeholder-colored",placeholder:"Enter your username",onChange:function(t){var a=e.state;a.username=t.target.value,e.setState(a)}})),l.a.createElement("div",{className:"mt-3",style:{marginLeft:600,marginRight:600}},l.a.createElement("input",{type:"password",className:"form-control text-center placeholder-colored",placeholder:"Password",onChange:function(t){var a=e.state;a.password=t.target.value,e.setState(a)}})),l.a.createElement("div",{className:"mt-3 rounded",style:{marginLeft:600,marginRight:600}},l.a.createElement("button",{className:"btn btn-primary w-100",onClick:this.handleLoginClick},"Login"),l.a.createElement(o.b,{to:"/register",className:"text-white"},"Dont Have an Account? Sign Up")))))}}]),a}(n.Component),I=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleRegisterClick=Object(g.a)(h.a.mark((function e(){var t,a,l,r,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.username,l=t.password,r=t.email,s=t.file,""!==a||""!==l||""!==r){e.next=5;break}alert("Cannot proceed without username and/or password"),e.next=20;break;case 5:return e.prev=5,(o=new FormData).append("file",s),o.append("name",a),o.append("password",l),o.append("email",r),e.next=13,L("post","/user",{data:o});case 13:alert("New User created"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),alert("An error occured"),console.log("Error");case 20:case"end":return e.stop()}}),e,null,[[5,16]])}))),n.state={username:"",password:"",email:"",file:null},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"pt-5 login-bg text-white h-100"},l.a.createElement("div",{className:"text-center"},l.a.createElement("div",{className:"display-4"},"Register with "),l.a.createElement("div",{className:"display-1"}," PostIn."),l.a.createElement("h3",null,"An One step solution to share your thoughts"),l.a.createElement("div",{style:{fontSize:20},className:"mt-5"},l.a.createElement("div",{style:{marginLeft:600,marginRight:600}},l.a.createElement("input",{className:"form-control text-center placeholder-colored",placeholder:"Enter your username",onChange:function(t){var a=e.state;a.username=t.target.value,e.setState(a)}})),l.a.createElement("div",{className:"mt-3",style:{marginLeft:600,marginRight:600}},l.a.createElement("input",{type:"password",className:"form-control text-center placeholder-colored",placeholder:"Password",onChange:function(t){var a=e.state;a.password=t.target.value,e.setState(a)}})),l.a.createElement("div",{className:"mt-3",style:{marginLeft:600,marginRight:600}},l.a.createElement("input",{type:"email",className:"form-control text-center placeholder-colored",placeholder:"xx@email.com",onChange:function(t){var a=e.state;a.email=t.target.value,e.setState(a)}})),l.a.createElement("div",{className:"mt-3",style:{marginLeft:600,marginRight:600}},l.a.createElement("input",{type:"file",name:"file",accept:"image/png, image/jpeg",onChange:function(t){var a=e.state;a.file=t.target.files[0],e.setState(a)}})),l.a.createElement("div",{className:"mt-3 rounded",style:{marginLeft:600,marginRight:600}},l.a.createElement("button",{className:"btn btn-primary w-100",onClick:this.handleRegisterClick},"Sign Up"),l.a.createElement(o.b,{to:"/login",className:"text-white"},"Login")))))}}]),a}(n.Component),A=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"wrapper"},l.a.createElement(c.a,{path:"/login",exact:!0,component:S}),l.a.createElement(c.a,{path:"/register",exact:!0,component:I}),l.a.createElement(c.a,{path:"/myposts",exact:!0,component:D}),l.a.createElement(c.a,{path:"/",exact:!0,component:O}))}}]),a}(n.Component);var M=function(){return l.a.createElement(o.a,null,l.a.createElement(c.a,{path:"/",component:A}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(71),a(72);s.a.render(l.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.607df00f.chunk.js.map